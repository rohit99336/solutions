рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╕рд╡рд╛рд▓ ЁЯСН

Laravel рдореЗрдВ **`fruitcake/laravel-cors`** рдкреИрдХреЗрдЬ рдХрд╛ рдХрд╛рдо рд╣реИ тАУ **CORS (Cross-Origin Resource Sharing)** рдХреЛ рдореИрдиреЗрдЬ рдХрд░рдирд╛ред

---

## ЁЯзР CORS рд╣реЛрддрд╛ рдХреНрдпрд╛ рд╣реИ?

* рдорд╛рди рд▓реАрдЬрд┐рдП рдЖрдкрдХрд╛ Laravel API рд╣реИ тЖТ `api.meraapp.com`
* рдФрд░ рдЖрдкрдХреА рдлреНрд░рдВрдЯрдПрдВрдб React/Shopify/Angular рд╕рд╛рдЗрдЯ рд╣реИ тЖТ `shop.meraapp.com`
* рдЬрдм **рджреВрд╕рд░реЗ domain рдпрд╛ subdomain рд╕реЗ API call** рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ **CORS Policy** рдЪреЗрдХ рдХрд░рддрд╛ рд╣реИред
* рдЕрдЧрд░ рд╕рд░реНрд╡рд░ рдиреЗ "рдЗрд╕ рдбреЛрдореЗрди рд╕реЗ request allowed рд╣реИ" рдирд╣реАрдВ рдмрддрд╛рдпрд╛ тЖТ рддреЛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ request **block** рдХрд░ рджреЗрдЧрд╛ред

---

## ЁЯНА `fruitcake/laravel-cors` рдкреИрдХреЗрдЬ рдХреЗ рдлрд╛рдпрджреЗ

1. **Cross-Domain API Calls Allow рдХрд░рдирд╛**

   * рдЕрдЧрд░ рдЖрдкрдХреА API рдЕрд▓рдЧ domain рдкрд░ рд╣реИ рдФрд░ client рдЕрд▓рдЧ domain рдкрд░ тЖТ рдпрд╣ рдкреИрдХреЗрдЬ allow рдХрд░реЗрдЧрд╛ред

2. **Security Control**

   * рдЖрдк рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди-рд╕рд╛ origin (рдбреЛрдореЗрди) access рдХрд░ рд╕рдХрддрд╛ рд╣реИред
   * рдЙрджрд╛рд╣рд░рдг: рд╕рд┐рд░реНрдл `https://shop.meraapp.com` рд╕реЗ API call allow рд╣реЛ, рдмрд╛рдХрд┐рдпреЛрдВ рд╕реЗ рдирд╣реАрдВред

3. **Custom Methods Allow рдХрд░рдирд╛**

   * GET, POST, PUT, DELETE рдЬреИрд╕реА methods allow/disallow рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

4. **Headers Control**

   * рдЖрдк decide рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХреМрди рд╕реЗ headers allow рд╣реЛрдВ тЖТ рдЬреИрд╕реЗ Authorization, Content-Type рд╡рдЧреИрд░рд╣ред

5. **Preflight Requests Handle рдХрд░рдирд╛**

   * рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдкрд╣рд▓реЗ `OPTIONS` request рднреЗрдЬрддрд╛ рд╣реИ (preflight)ред рдпрд╣ рдкреИрдХреЗрдЬ рдЙрд╕реЗ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ handle рдХрд░рддрд╛ рд╣реИред

---

## ЁЯФз Example Config (config/cors.php)

```php
return [

    'paths' => ['api/*'], // рд╕рд┐рд░реНрдл api routes рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрдЧрд╛

    'allowed_methods' => ['*'], // рд╕рднреА methods allow (GET, POST, PUT, DELETE)

    'allowed_origins' => ['https://shop.meraapp.com'], // рд╕рд┐рд░реНрдл рдпреЗ domain allow

    'allowed_headers' => ['Content-Type', 'X-Requested-With', 'Authorization'],

    'exposed_headers' => [],

    'max_age' => 0,

    'supports_credentials' => true,
];
```

---

## ЁЯЪА рдЖрд╕рд╛рди рд╢рдмреНрджреЛрдВ рдореЗрдВ рдлрд╛рдпрджрд╛

* рдЕрдЧрд░ рдЖрдк рд╕рд┐рд░реНрдл Laravel backend + Laravel frontend **рдПрдХ рд╣реА domain** рдкрд░ рдЪрд▓рд╛ рд░рд╣реЗ рд╣реИрдВ тЖТ рд╢рд╛рдпрдж CORS рдХреА рдЬрд╝рд░реВрд░рдд рд╣реА рди рдкрдбрд╝реЗред
* рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк **Laravel рдХреЛ API рдХреА рддрд░рд╣ use рдХрд░ рд░рд╣реЗ рд╣реИрдВ** (React, Vue, Angular, Shopify, Flutter App рдЖрджрд┐ рдХреЗ рд╕рд╛рде) тЖТ рддрдм рдпрд╣ рдкреИрдХреЗрдЬ рдмрд╣реБрдд **рдЬрд░реВрд░реА рдФрд░ рдлрд╛рдпрджреЗрдордВрдж** рд╣реИред

---
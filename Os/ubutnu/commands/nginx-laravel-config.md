### ЁЯЫая╕П Nginx рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди (Laravel Standard)

**рдлрд╛рдЗрд▓ рдХрд╛ рд╕реНрдерд╛рди:** `/etc/nginx/sites-available/example.com`

рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдХреЛрдб рдХреЛ рдХреЙрдкреА рдХрд░реЗрдВред рдЗрд╕рдореЗрдВ рдореИрдВрдиреЗ рдЖрдкрдХреА рд╕рдордЭ рдХреЗ рд▓рд┐рдП **рдХрдореЗрдВрдЯреНрд╕ (#)** рднреА рдЬреЛрдбрд╝реЗ рд╣реИрдВред

```nginx
server {
    # 1. рдкреЛрд░реНрдЯ рд╕реЗрдЯ рдХрд░рдирд╛ (HTTP рдХреЗ рд▓рд┐рдП 80)
    listen 80;
    listen [::]:80;

    # 2. рдЖрдкрдХрд╛ рдбреЛрдореЗрди рдирд╛рдо (рдпрд╣рд╛рдБ рдЕрдкрдирд╛ рдбреЛрдореЗрди рд▓рд┐рдЦреЗрдВ)
    server_name example.com www.example.com;

    # 3. рд░реВрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА (рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг)
    # рд╣рдореЗрд╢рд╛ 'public' рдлреЛрд▓реНрдбрд░ рдХреЛ рд╣реА рд░реВрдЯ рдмрдирд╛рдПрдВ, рдкреВрд░реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдирд╣реАрдВред
    root /var/www/html/my-project/public;

    # 4. рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ рд╣реИрдбрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ (Security Headers)
    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";

    # 5. рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдХреМрди рд╕реА рдлрд╛рдЗрд▓ рдЦреБрд▓реЗрдЧреА
    index index.php;

    charset utf-8;

    # 6. Laravel рд░реВрдЯрд┐рдВрдЧ рд▓реЙрдЬрд┐рдХ (URL Rewriting)
    # рдпрд╣ рд▓рд╛рдЗрди рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ index.php рдХреЗ рдмрд┐рдирд╛ рднреА рд░реВрдЯреНрд╕ рдХрд╛рдо рдХрд░реЗрдВ
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    # 7. рдЫреЛрдЯреЗ-рдореЛрдЯреЗ рд▓реЙрдЧреНрд╕ рдмрдВрдж рдХрд░рдирд╛ (Performance)
    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }

    # 8. 404 рдПрд░рд░ рдкреЗрдЬ рдХреЛ Laravel рдкрд░ рднреЗрдЬрдирд╛
    error_page 404 /index.php;

    # 9. PHP рдлрд╛рдЗрд▓реНрд╕ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдирд╛ (PHP-FPM)
    location ~ \.php$ {
        # рдЗрд╕ рд▓рд╛рдЗрди рдХреЛ рдЕрдкрдиреЗ PHP рд╡рд░реНрдЬрди рдХреЗ рд╣рд┐рд╕рд╛рдм рд╕реЗ рдмрджрд▓реЗрдВ (рдЬреИрд╕реЗ php8.1, php8.2, php8.3)
        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock; 
        
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }

    # 10. рдЫреБрдкреА рд╣реБрдИ рдлрд╛рдЗрд▓реНрд╕ рдХреЛ рдмреНрд▓реЙрдХ рдХрд░рдирд╛ (.env рд╕реБрд░рдХреНрд╖рд╛)
    # рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреЛрдИ рднреА рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╕реЗ рдЖрдкрдХреА .env рдлрд╛рдЗрд▓ рди рдЦреЛрд▓ рд╕рдХреЗ
    location ~ /\.(?!well-known).* {
        deny all;
    }
}

```

---

### ЁЯЪА рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХреИрд╕реЗ рдХрд░реЗрдВ (Steps to Apply)

1. **рдлрд╛рдЗрд▓ рдмрдирд╛рдПрдВ:**
```bash
sudo nano /etc/nginx/sites-available/my-site

```


2. **рдХреЛрдб рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ:** рдКрдкрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдХреЛрдб рдкреЗрд╕реНрдЯ рдХрд░реЗрдВред
* `server_name` рдмрджрд▓реЗрдВред
* `root` рдореЗрдВ рдЕрдкрдиреЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд╛ рд╕рд╣реА рдкрде (Path) рдбрд╛рд▓реЗрдВред
* `fastcgi_pass` рдореЗрдВ рдЕрдкрдирд╛ PHP рд╡рд░реНрдЬрди рдЪреЗрдХ рдХрд░реЗрдВ (`php -v` рдХрдорд╛рдВрдб рд╕реЗ)ред


3. **рд╕рд╛рдЗрдЯ рдЗрдиреЗрдмрд▓ рдХрд░реЗрдВ (Symlink):**
```bash
sudo ln -s /etc/nginx/sites-available/my-site /etc/nginx/sites-enabled/

```


4. **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдлрд╛рдЗрд▓ рд╣рдЯрд╛рдПрдВ (рдЕрдЧрд░ рдЬрд░реБрд░рдд рд╣реЛ):**
рддрд╛рдХрд┐ рдХреЛрдИ рдЯрдХрд░рд╛рд╡ (Conflict) рди рд╣реЛред
```bash
sudo rm /etc/nginx/sites-enabled/default

```


5. **рдЪреЗрдХ рдФрд░ рд░реАрд╕реНрдЯрд╛рд░реНрдЯ:**
```bash
sudo nginx -t   # рдЕрдЧрд░ "Syntax OK" рдЖрдП
sudo systemctl restart nginx

```
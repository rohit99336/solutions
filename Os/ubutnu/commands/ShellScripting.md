 **Shell Scripting (Bash Scripting)** рд╡рд╣ рдЬрд╛рджреВ рд╣реИ рдЬреЛ рдПрдХ рдЕрдЪреНрдЫреЗ рдбреЗрд╡рд▓рдкрд░ рдХреЛ рдПрдХ **Great DevOps Engineer** рдореЗрдВ рдмрджрд▓ рджреЗрддрд╛ рд╣реИред

рдЬрдм рдЖрдкрдХреЛ рдПрдХ рд╣реА рдХрд╛рдо рдмрд╛рд░-рдмрд╛рд░ рдХрд░рдирд╛ рдкреЬреЗ (рдЬреИрд╕реЗ рд╕рд░реНрд╡рд░ рд╕реЗрдЯрдЕрдк, рдмреИрдХрдЕрдк, рдпрд╛ рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ), рддреЛ рд╣рдо рдЙрд╕реЗ рдЦреБрдж рдирд╣реАрдВ рдХрд░рддреЗ, рд╣рдо рдЙрд╕рдХреЗ рд▓рд┐рдП рдПрдХ **Script** рд▓рд┐рдЦ рджреЗрддреЗ рд╣реИрдВред

рдпрд╣рд╛рдБ рдЖрдкрдХреЗ рд▓рд┐рдП **"Zero to Hero: Shell Scripting Cheatsheet"** рд╣реИред рдЗрд╕реЗ рдореИрдВрдиреЗ Basic, Intermediate рдФрд░ Advanced рд▓реЗрд╡рд▓реНрд╕ рдореЗрдВ рдмрд╛рдВрдЯрд╛ рд╣реИред

---

# ЁЯУЬ Shell Scripting Cheatsheet: Basic to Advanced

### ЁЯЫая╕П рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреИрд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ? (The Setup)

1. рдлрд╛рдЗрд▓ рдмрдирд╛рдПрдВ: `nano deploy.sh` (рдПрдХреНрд╕рдЯреЗрдВрд╢рди `.sh` рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП)ред
2. рд╕рдмрд╕реЗ рдкрд╣рд▓реА рд▓рд╛рдЗрди (Shebang): `#!/bin/bash` (рдпрд╣ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдмрддрд╛рддреА рд╣реИ рдХрд┐ рдпрд╣ рдПрдХ рдмреИрд╢ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реИ)ред
3. рдкрд░рдорд┐рд╢рди рджреЗрдВ: `chmod +x deploy.sh`
4. рд░рди рдХрд░реЗрдВ: `./deploy.sh`

---

## ЁЯЯв Level 1: Basics (рд╕рд┐рдВрдЯреЗрдХреНрд╕ рдФрд░ рд╡реЗрд░рд┐рдПрдмрд▓)

| рдХреЙрдиреНрд╕реЗрдкреНрдЯ | рдХреЛрдб (Syntax) | рд╡рд┐рд╡рд░рдг |
| --- | --- | --- |
| **Shebang** | `#!/bin/bash` | рд╣рд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреА рдкрд╣рд▓реА рд▓рд╛рдЗрди рдпрд╣реА рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред |
| **Print Text** | `echo "Hello Rohit"` | рд╕реНрдХреНрд░реАрди рдкрд░ рдХреБрдЫ рднреА рдкреНрд░рд┐рдВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред |
| **Variables** | `NAME="Rohit"` | рд╡реЗрд░рд┐рдПрдмрд▓ рд╕реЗрдЯ рдХрд░рдирд╛ (рд╕реНрдкреЗрд╕ рди рджреЗрдВ: `NAME = "Rohit"` тЭМ рдЧрд▓рдд рд╣реИ)ред |
| **Use Variable** | `echo "Hello $NAME"` | рд╡реЗрд░рд┐рдПрдмрд▓ рдХреЛ рдпреВреЫ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `$` рд▓рдЧрд╛рдПрдВред |
| **Command Output** | `NOW=$(date)` | рдХрд┐рд╕реА рдХрдорд╛рдВрдб рдХрд╛ рдЖрдЙрдЯрдкреБрдЯ рд╡реЗрд░рд┐рдПрдмрд▓ рдореЗрдВ рд╕реЗрд╡ рдХрд░рдирд╛ (рдЬреИрд╕реЗ рдЖрдЬ рдХреА рддрд╛рд░реАрдЦ)ред |

---

## ЁЯЯб Level 2: Decision Making (Conditions - Logic)

DevOps рдореЗрдВ рд╣рдо рдЪреЗрдХ рдХрд░рддреЗ рд╣реИрдВ: *"рдЕрдЧрд░ рдлреЛрд▓реНрдбрд░ рдореМрдЬреВрдж рд╣реИ рддреЛ рдмреИрдХрдЕрдк рд▓реЛ, рдирд╣реАрдВ рддреЛ рдирдпрд╛ рдмрдирд╛рдУред"*

### 1. If-Else рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ

```bash
if [ "$NAME" == "Rohit" ]; then
    echo "Welcome Admin!"
else
    echo "Access Denied."
fi

```

*(рдзреНрдпрд╛рди рджреЗрдВ: `[` рдФрд░ `]` рдХреЗ рдЕрдВрджрд░ рд╕реНрдкреЗрд╕ рд╣реЛрдирд╛ рдЬрд░реБрд░реА рд╣реИ, рдирд╣реАрдВ рддреЛ рдПрд░рд░ рдЖрдПрдЧрд╛)*

### 2. рдлрд╛рдЗрд▓ рдФрд░ рдлреЛрд▓реНрдбрд░ рдЪреЗрдХ рдХрд░рдирд╛ (DevOps рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЬрд░реБрд░реА)

| рдСрдкрд░реЗрдЯрд░ | рдЪреЗрдХ рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ? | рдЙрджрд╛рд╣рд░рдг |
| --- | --- | --- |
| `-d` | рдХреНрдпрд╛ рдпрд╣ **Directoy (рдлреЛрд▓реНрдбрд░)** рдореМрдЬреВрдж рд╣реИ? | `if [ -d "/var/www/html" ]; then ...` |
| `-f` | рдХреНрдпрд╛ рдпрд╣ **File** рдореМрдЬреВрдж рд╣реИ? | `if [ -f ".env" ]; then ...` |
| `-z` | рдХреНрдпрд╛ рд╡реЗрд░рд┐рдПрдмрд▓ **рдЦрд╛рд▓реА (Empty)** рд╣реИ? | `if [ -z "$PASSWORD" ]; then echo "Password missing"; fi` |

---

## ЁЯЯа Level 3: Loops (рдмрд╛рд░-рдмрд╛рд░ рдХрд╛рдо рдХрд░рдирд╛)

рдЕрдЧрд░ рдЖрдкрдХреЛ 100 рдлрд╛рдЗрд▓реЛрдВ рдХрд╛ рдмреИрдХрдЕрдк рд▓реЗрдирд╛ рд╣реЛ, рддреЛ рдЖрдк 100 рдмрд╛рд░ рдХрдорд╛рдВрдб рдирд╣реАрдВ рд▓рд┐рдЦреЗрдВрдЧреЗред

### 1. For Loop (рдирд┐рд╢реНрдЪрд┐рдд рдмрд╛рд░ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП)

```bash
# рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдЕрдВрджрд░ рд╕рднреА .log рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рдбрд┐рд▓реАрдЯ рдХрд░рдирд╛
for file in /var/www/html/storage/logs/*.log; do
    echo "Deleting $file..."
    rm "$file"
done

```

### 2. While Loop (рдЬрдм рддрдХ рд╢рд░реНрдд рдкреВрд░реА рди рд╣реЛ)

```bash
# рдЬрдм рддрдХ рд╕рд░реНрд╡рд░ рдкрд┐рдВрдЧ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рд╡реЗрдЯ рдХрд░реЛ
while ping -c 1 8.8.8.8; do
    echo "Internet is UP..."
    sleep 5
done

```

---

## ЁЯФ┤ Level 4: Advanced DevOps Concepts (Automation)

### 1. рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдЖрд░реНрдЧреБрдореЗрдВрдЯреНрд╕ (Arguments)

рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЪрд▓рд╛рддреЗ рд╕рдордп рд╡реИрд▓реНрдпреВ рдкрд╛рд╕ рдХрд░рдирд╛ред рдЬреИрд╕реЗ: `./deploy.sh production`

```bash
ENV=$1  # рдкрд╣рд▓рд╛ рд╢рдмреНрдж ($1) рд╡реЗрд░рд┐рдПрдмрд▓ рдореЗрдВ рдбрд╛рд▓реЛ

if [ "$ENV" == "production" ]; then
    echo "Deploying to LIVE Server..."
else
    echo "Deploying to TEST Server..."
fi

```

* `$0`: рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдирд╛рдо
* `$1, $2...`: рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдкрд╛рд╕ рдХрд┐рдпреЗ рдЧрдП рдкреИрд░рд╛рдореАрдЯрд░реНрд╕
* `$#`: рдЯреЛрдЯрд▓ рдХрд┐рддрдиреЗ рдЖрд░реНрдЧреБрдореЗрдВрдЯреНрд╕ рдкрд╛рд╕ рдХрд┐рдпреЗ рдЧрдП

### 2. рдПрд░рд░ рд╣реИрдВрдбрд▓рд┐рдВрдЧ (Error Handling - `set -e`)

**рдпрд╣ рдПрдХ рдкреНрд░реЛ рдЯрд┐рдк рд╣реИ:** рдЕрдЧрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреА рд▓рд╛рдЗрди рдирдВрдмрд░ 2 рдореЗрдВ рдПрд░рд░ рдЖрдпреЗ, рддреЛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рд╡рд╣реАрдВ рд░реБрдХ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЖрдЧреЗ рдирд╣реАрдВ рдмреЭрдирд╛ рдЪрд╛рд╣рд┐рдПред

```bash
#!/bin/bash
set -e  # рдЕрдЧрд░ рдХреЛрдИ рднреА рдХрдорд╛рдВрдб рдлреЗрд▓ рд╣реБрдИ, рддреЛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рддреБрд░рдВрдд рдмрдВрдж рд╣реЛ рдЬрд╛рдПрдЧреА (Stop execution)ред

git pull origin main
composer install  # рдЕрдЧрд░ рдпрд╣рд╛рдБ рдПрд░рд░ рдЖрдпрд╛, рддреЛ рдиреАрдЪреЗ рд╡рд╛рд▓рд╛ рдХреЛрдб рдирд╣реАрдВ рдЪрд▓реЗрдЧрд╛ред
php artisan migrate

```

### 3. рдлрдВрдХреНрд╢рдиреНрд╕ (Functions)

рдХреЛрдб рдХреЛ рд╕рд╛реЮ-рд╕реБрдерд░рд╛ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдПред

```bash
function deploy_laravel() {
    echo "Starting Deployment..."
    php artisan down
    git pull origin main
    php artisan up
    echo "Deployment Finished!"
}

# рдлрдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдирд╛
deploy_laravel

```

---

## ЁЯЪА Practical Project: Laravel Auto-Deployment Script

рд░реЛрд╣рд┐рдд рдЬреА, рдЕрдм рдЗрди рд╕рдмрдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░рдХреЗ рдПрдХ **рдЕрд╕рд▓реА рд╕реНрдХреНрд░рд┐рдкреНрдЯ** рдмрдирд╛рддреЗ рд╣реИрдВред рдЖрдк рдЗрд╕реЗ рдЕрдкрдиреЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлреЛрд▓реНрдбрд░ рдореЗрдВ `deploy.sh` рдирд╛рдо рд╕реЗ рд╕реЗрд╡ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

```bash
#!/bin/bash

# 1. рд╕реБрд░рдХреНрд╖рд╛: рдЕрдЧрд░ рдХреЛрдИ рдХрдорд╛рдВрдб рдлреЗрд▓ рд╣реЛ рддреЛ рд░реБрдХ рдЬрд╛рдУ
set -e

# 2. рд╡реЗрд░рд┐рдПрдмрд▓ рд╕реЗрдЯ рдХрд░рдирд╛
PROJECT_DIR="/var/www/html/my-project"
DATE=$(date +%Y-%m-%d-%H-%M)

echo "--- Deployment Started at $DATE ---"

# 3. рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлреЛрд▓реНрдбрд░ рдореЗрдВ рдЬрд╛рдирд╛
cd $PROJECT_DIR

# 4. рдореЗрдВрдЯреЗрдиреЗрдВрд╕ рдореЛрдб рдСрди рдХрд░рдирд╛ (рддрд╛рдХрд┐ рдпреВрдЬрд░ рдХреЛ рдПрд░рд░ рди рджрд┐рдЦреЗ)
echo "Putting Laravel in Maintenance Mode..."
php artisan down || true  # (|| true рдХрд╛ рдорддрд▓рдм: рдЕрдЧрд░ рдкрд╣рд▓реЗ рд╕реЗ down рд╣реИ рддреЛ рднреА рдПрд░рд░ рди рдЖрдпреЗ)

# 5. рдХреЛрдб рдкреБрд▓ рдХрд░рдирд╛
echo "Pulling latest code from Git..."
git pull origin main

# 6. рдбрд┐рдкреЗрдВрдбреЗрдВрд╕реА рдФрд░ рдорд╛рдЗрдЧреНрд░реЗрд╢рди
echo "Installing Composer Dependencies..."
composer install --no-dev --optimize-autoloader

echo "Running Migrations..."
php artisan migrate --force

# 7. рдХреИрд╢ рд╕рд╛реЮ рдХрд░рдирд╛ (рдмрд╣реБрдд рдЬрд░реБрд░реА)
echo "Clearing Cache..."
php artisan config:cache
php artisan route:cache
php artisan view:cache

# 8. рдкрд░рдорд┐рд╢рди рдлрд┐рдХреНрд╕ рдХрд░рдирд╛ (рдЬреИрд╕рд╛ рд╣рдордиреЗ рд╕реАрдЦрд╛ рдерд╛)
echo "Fixing Permissions..."
sudo chown -R www-data:www-data $PROJECT_DIR
sudo chmod -R 775 storage bootstrap/cache

# 9. рд╕рд╛рдЗрдЯ рд╡рд╛рдкрд╕ рд▓рд╛рдЗрд╡ рдХрд░рдирд╛
echo "Bringing site back online..."
php artisan up

echo "--- Deployment Successfully Completed! ---"

```

### рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреИрд╕реЗ рдЪрд▓рд╛рдПрдВ?

1. рд╕рд░реНрд╡рд░ рдкрд░ `nano deploy.sh` рдХрд░рдХреЗ рдпрд╣ рдХреЛрдб рдкреЗрд╕реНрдЯ рдХрд░реЗрдВред
2. `chmod +x deploy.sh` рдХрд░реЗрдВред
3. рдЬрдм рднреА рдирдпрд╛ рдХреЛрдб рд▓рд╛рдЗрд╡ рдХрд░рдирд╛ рд╣реЛ, рдмрд╕ `./deploy.sh` рдЪрд▓рд╛ рджреЗрдВред

---
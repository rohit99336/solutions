
## ЁЯТб `ref()` рдореЗрдердб рдХреНрдпрд╛ рд╣реИ? (What is `ref()`?)

**`ref()`** Vue 3 рдореЗрдВ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рд╣реИ рдЬреЛ **рд░рд┐рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА API (Reactivity API)** рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред рдЗрд╕рдХрд╛ рдореБрдЦреНрдп рдЙрджреНрджреЗрд╢реНрдп **рдкреНрд░рд┐рдорд┐рдЯрд┐рд╡ рд╡реИрд▓реНрдпреВрдЬрд╝** (рдЬреИрд╕реЗ рд╕реНрдЯреНрд░рд┐рдВрдЧ, рдирдВрдмрд░, рдмреВрд▓рд┐рдпрди) рдХреЛ **рд░рд┐рдПрдХреНрдЯрд┐рд╡** рдмрдирд╛рдирд╛ рд╣реИред

### рдореБрдЦреНрдп рдмрд╛рддреЗрдВ:

1.  **рд░рд┐рдПрдХреНрдЯрд┐рд╡ рд░реИрдкрд░:** `ref()` рдПрдХ рдРрд╕реА рд╡рд╕реНрддреБ (object) рдмрдирд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ **рд░реЗрдлрд╝рд░реЗрдВрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдкреНрд░рд┐рдорд┐рдЯрд┐рд╡ рд╡реИрд▓реНрдпреВ рдХреЛ рдЕрдВрджрд░ рд▓рдкреЗрдЯ (wrap) рд▓реЗрддрд╛ рд╣реИред
2.  **рд╡реИрд▓реНрдпреВ рдПрдХреНрд╕реЗрд╕:** рдЬрдм рдЖрдкрдХреЛ `ref` рдХреА рд╡реИрд▓реНрдпреВ рдХреЛ **рдкрдврд╝рдирд╛ (read)** рдпрд╛ **рдмрджрд▓рдирд╛ (mutate)** рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рд╣рдореЗрд╢рд╛ `.value` рдкреНрд░реЙрдкрд░реНрдЯреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИред
3.  **рдСрдЯреЛрдореЗрдЯрд┐рдХ рдЯреНрд░реИрдХрд┐рдВрдЧ:** рдЬрдм рдпрд╣ рд╡реИрд▓реНрдпреВ рдмрджрд▓рддреА рд╣реИ, рддреЛ Vue рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрд╕ UI рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдЯреНрд░реИрдХ рдФрд░ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИ рдЬрд╣рд╛рдБ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

| рд╡рд┐рд╢реЗрд╖рддрд╛ | рд╡рд┐рд╡рд░рдг |
| :--- | :--- |
| **рдирд╛рдо** | `ref` |
| **рдЙрдкрдпреЛрдЧ** | рдкреНрд░рд┐рдорд┐рдЯрд┐рд╡ рд╡реИрд▓реНрдпреВрдЬрд╝ рдХреЛ рд░рд┐рдПрдХреНрдЯрд┐рд╡ рдмрдирд╛рдирд╛ред |
| **рдПрдХреНрд╕реЗрд╕** | `.value` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ (рдЙрджрд╛рд╣рд░рдг: `count.value = 10`) |

### рдЙрджрд╛рд╣рд░рдг:

```javascript
import { ref } from 'vue';

// рдПрдХ рд░рд┐рдПрдХреНрдЯрд┐рд╡ рдирдВрдмрд░ рдмрдирд╛рдПрдВ
const count = ref(0); 

// count рдХреЛ рдПрдХреНрд╕реЗрд╕ рдФрд░ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП .value рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
console.log(count.value); // рдЖрдЙрдЯрдкреБрдЯ: 0

// рд╡реИрд▓реНрдпреВ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛
count.value = 5; 

// UI рдЕрдкрдиреЗ рдЖрдк 5 рдкрд░ рдЕрдкрдбреЗрдЯ рд╣реЛ рдЬрд╛рдПрдЧрд╛
```

-----

## ЁЯФв `ref()` рдЬреИрд╕реЗ рдЕрдиреНрдп рд░рд┐рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА рдореЗрдердбреНрд╕

Vue 3 рдореЗрдВ рд░рд┐рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП `ref()` рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдХрдИ рдЕрдиреНрдп рдорд╣рддреНрд╡рдкреВрд░реНрдг рдлрд╝рдВрдХреНрд╢рдВрд╕ рд╣реИрдВред рдпреЗ рд╕рднреА рдлрд╝рдВрдХреНрд╢рдВрд╕ Vue рдХреЗ **Composition API** рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИрдВред

рдпрд╣рд╛рдБ `ref()` рдХреЗ рд╕рдорд╛рди рдпрд╛ рдЙрд╕рд╕реЗ рдЬреБрдбрд╝реЗ рдХреБрдЫ рдкреНрд░рдореБрдЦ рдореЗрдердбреНрд╕ рджрд┐рдП рдЧрдП рд╣реИрдВ:

### 1\. `reactive()`

рдпрд╣ `ref()` рдХрд╛ рдореБрдЦреНрдп рд╕рд╛рдереА рд╣реИ рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ **рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕** рдФрд░ **рдРрд░реЗрдЬрд╝** рдХреЛ рд░рд┐рдПрдХреНрдЯрд┐рд╡ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

| рд╡рд┐рд╢реЗрд╖рддрд╛ | рд╡рд┐рд╡рд░рдг |
| :--- | :--- |
| **рдирд╛рдо** | `reactive` |
| **рдЙрдкрдпреЛрдЧ** | **рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕** рдФрд░ **рдРрд░реЗрдЬрд╝** (рдиреЙрди-рдкреНрд░рд┐рдорд┐рдЯрд┐рд╡ рд╡реИрд▓реНрдпреВрдЬрд╝) рдХреЛ рд░рд┐рдПрдХреНрдЯрд┐рд╡ рдмрдирд╛рдирд╛ред |
| **рдПрдХреНрд╕реЗрд╕** | рд╕реАрдзреЗ рдкреНрд░реЙрдкрд░реНрдЯреА рдирд╛рдо рд╕реЗ (`.value` рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ) |

#### рдЙрджрд╛рд╣рд░рдг:

```javascript
import { reactive } from 'vue';

// рдПрдХ рд░рд┐рдПрдХреНрдЯрд┐рд╡ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВ
const state = reactive({ 
  id: 1,
  name: 'User A' 
});

// рд╕реАрдзреЗ рдкреНрд░реЙрдкрд░реНрдЯреА рдирд╛рдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдФрд░ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
console.log(state.name); // рдЖрдЙрдЯрдкреБрдЯ: User A

state.id = 2; // рд░рд┐рдПрдХреНрдЯрд┐рд╡ рдЕрдкрдбреЗрдЯ
```

> **рдЕрдВрддрд░:** `reactive()` рдореЗрдВ, рдЖрдкрдХреЛ `.value` рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдХреЗрд╡рд▓ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред

-----

### 2\. `computed()`

рдпрд╣ рдПрдХ рдРрд╕рд╛ рдлрд╝рдВрдХреНрд╢рди рд╣реИ рдЬреЛ рдореМрдЬреВрджрд╛ рд░рд┐рдПрдХреНрдЯрд┐рд╡ рдбреЗрдЯрд╛ (рдЬреИрд╕реЗ `ref()` рдпрд╛ `reactive()`) рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ **рдХреИрд╢реНрдб рд░рд┐рдПрдХреНрдЯрд┐рд╡ рд╡реИрд▓реНрдпреВ** рдмрдирд╛рддрд╛ рд╣реИред

| рд╡рд┐рд╢реЗрд╖рддрд╛ | рд╡рд┐рд╡рд░рдг |
| :--- | :--- |
| **рдирд╛рдо** | `computed` |
| **рдЙрдкрдпреЛрдЧ** | рдЬрдЯрд┐рд▓ рдЧрдгрдирд╛рдУрдВ рдпрд╛ рдбреЗрдЯрд╛ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ рдХреЗрд╡рд▓ рдирд┐рд░реНрднрд░ рдбреЗрдЯрд╛ рдмрджрд▓рдиреЗ рдкрд░ рд╣реА рдкреБрдирд░реНрдЧрдгрдирд╛ (re-calculate) рдХрд░рддреЗ рд╣реИрдВред |
| **рдПрдХреНрд╕реЗрд╕** | рд░реАрдб-рдУрдирд▓реА рд╣реЛрдиреЗ рдкрд░ `.value` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред |

#### рдЙрджрд╛рд╣рд░рдг:

```javascript
import { ref, computed } from 'vue';

const price = ref(10);
const quantity = ref(2);

// price рдФрд░ quantity рдкрд░ рдирд┐рд░реНрднрд░ рдПрдХ computed value
const total = computed(() => { 
  return price.value * quantity.value; // .value рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрд╡рд╢реНрдпрдХ рд╣реИ
});

console.log(total.value); // рдЖрдЙрдЯрдкреБрдЯ: 20
```

-----

### 3\. `readonly()`

рдпрд╣ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рд╣реИ рдЬреЛ рдХрд┐рд╕реА рднреА рд░рд┐рдПрдХреНрдЯрд┐рд╡ рдСрдмреНрдЬреЗрдХреНрдЯ (`ref` рдпрд╛ `reactive`) рдХрд╛ рдПрдХ рдРрд╕рд╛ рд╕рдВрд╕реНрдХрд░рдг (version) рдмрдирд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ **рдХреЗрд╡рд▓ рдкрдврд╝рд╛ (read-only)** рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

| рд╡рд┐рд╢реЗрд╖рддрд╛ | рд╡рд┐рд╡рд░рдг |
| :--- | :--- |
| **рдирд╛рдо** | `readonly` |
| **рдЙрдкрдпреЛрдЧ** | рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдбреЗрдЯрд╛ рдХреЛ рдмрджрд▓рд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдЬреИрд╕реЗ рдЬрдм рдЖрдк рдХрд┐рд╕реА рдмрд╛рд╣рд░реА API рд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ)ред |

#### рдЙрджрд╛рд╣рд░рдг:

```javascript
import { reactive, readonly } from 'vue';

const original = reactive({ count: 10 });
const readOnlyCount = readonly(original);

// readOnlyCount.count = 20; // ERROR: рдЖрдк рдЗрд╕реЗ рдирд╣реАрдВ рдмрджрд▓ рд╕рдХрддреЗ
console.log(readOnlyCount.count); // рдЖрдЙрдЯрдкреБрдЯ: 10
```

-----

### 4\. `isRef()`

рдпрд╣ рдПрдХ рдЙрдкрдпреЛрдЧреА рдлрд╝рдВрдХреНрд╢рди рд╣реИ рдЬреЛ рдпрд╣ рдЬрд╛рдВрдЪрддрд╛ рд╣реИ рдХрд┐ рдХреЛрдИ рд╡реИрд▓реНрдпреВ **`ref` рдСрдмреНрдЬреЗрдХреНрдЯ** рд╣реИ рдпрд╛ рдирд╣реАрдВред

| рд╡рд┐рд╢реЗрд╖рддрд╛ | рд╡рд┐рд╡рд░рдг |
| :--- | :--- |
| **рдирд╛рдо** | `isRef` |
| **рдЙрдкрдпреЛрдЧ** | рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХрд┐рд╕реА рд╡реЗрд░рд┐рдПрдмрд▓ рдореЗрдВ `.value` рдПрдХреНрд╕реЗрд╕ рдХрд░рдирд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред |

#### рдЙрджрд╛рд╣рд░рдг:

```javascript
import { ref, isRef } from 'vue';

const myRef = ref(1);
const myNumber = 10;

console.log(isRef(myRef));    // рдЖрдЙрдЯрдкреБрдЯ: true
console.log(isRef(myNumber)); // рдЖрдЙрдЯрдкреБрдЯ: false
```

-----

### 5\. `toRef()` / `toRefs()`

рдпреЗ рдлрд╝рдВрдХреНрд╢рдВрд╕ `reactive()` рдСрдмреНрдЬреЗрдХреНрдЯ рдХреА рдкреНрд░реЙрдкрд░реНрдЯреАреЫ рдХреЛ **рд╡реНрдпрдХреНрддрд┐рдЧрдд `ref`** рдореЗрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рддрд╛рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдбреАрд╕реНрдЯреНрд░рдХреНрдЪрд░рд┐рдВрдЧ (destructuring) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред

| рд╡рд┐рд╢реЗрд╖рддрд╛ | рд╡рд┐рд╡рд░рдг |
| :--- | :--- |
| **рдирд╛рдо** | `toRefs` |
| **рдЙрдкрдпреЛрдЧ** | рдПрдХ `reactive` рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдбреАрд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХрд░рддреЗ рд╕рдордп рдЙрд╕рдХреА рд░рд┐рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА рдмрдирд╛рдП рд░рдЦрдирд╛ред |

#### рдЙрджрд╛рд╣рд░рдг:

```javascript
import { reactive, toRefs } from 'vue';

const state = reactive({
  name: 'Alex',
  age: 30
});

// toRefs рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреАрд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХрд░реЗрдВ
const { name, age } = toRefs(state);

// рдЕрдм name рдФрд░ age рджреЛрдиреЛрдВ ref рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВ рдФрд░ state рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реБрдП рд╣реИрдВ
console.log(name.value); // Alex
```